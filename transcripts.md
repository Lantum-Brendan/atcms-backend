# Academic Transcript Management System Documentation

## Data Models

### TranscriptRequest
```typescript
interface TranscriptRequest {
    id: string;
    matricule: string;
    studentName: string;
    level: string;
    faculty: string;
    program: string;
    semester: string;
    modeOfTreatment: 'Super Fast' | 'Fast' | 'Normal' | 'Verification';
    processingTime: string;
    amount: number;
    dateOfRequest: string;
    numberOfCopies: number;
    deliveryMethod: 'Collect from Faculty' | 'Email Delivery';
    verifierEmail?: string;
    status: 'Processing' | 'Completed' | 'Failed';
}
```

### Processing Times and Fees
- Super Fast Mode: 24 hours, 3000 FRS
- Fast Mode: 48 hours, 2000 FRS
- Normal Mode: 1 month, 1000 FRS
- Verification Mode: 72 hours, 10000 FRS

## Access Control

### Student Role
- Can submit new transcript requests
- Can view their own transcript requests
- Can view details of completed transcripts
- Can download completed transcripts
- Can track status of their requests
- Cannot cancel requests after payment
- Receives notifications when transcripts are ready

### System Admin Role
- Can view all transcript requests
- Can process transcript requests
- Can update transcript request status
- Can manage user roles and permissions
- Can view system-wide statistics
- Can implement corrections based on HOD/Coordinator instructions
- Can monitor system logs for changes

## Workflow

### 1. Transcript Request Submission
1. Student fills out transcript request form with:
   - Level (200-700)
   - Faculty
   - Program
   - Semester
   - Mode of Treatment
   - Number of Copies
   - Verifier Email (if verification mode)

2. System automatically sets:
   - Current date as request date
   - Processing time based on mode
   - Amount based on mode
   - Delivery method (Email for verification, Faculty collection for others)

### 2. Payment Processing
1. Student proceeds to payment with:
   - Amount
   - Phone number (MTN or Orange Money)
   - Provider selection

2. On successful payment:
   - Request status set to "Processing"
   - Request ID generated
   - Success notification shown
   - Request added to student's transcript list

3. On failed payment:
   - Status set to "Failed"
   - Error notification shown
   - Student can try payment again

### 3. Transcript Processing
1. System Admin receives new transcript request
2. Processes request according to mode of treatment timeline
3. Can mark request as "Completed" when ready
4. For verification mode:
   - Sends transcript to verifier email
   - Marks as completed after sending

### 4. Status Transitions
```
Payment Success → Processing → Completed
Payment Failed → Failed
```

### 5. Notifications
- Student receives notification when:
  - Payment is successful/failed
  - Transcript is ready for collection
  - Transcript has been sent to verifier (for verification mode)

## Backend Implementation Requirements

### API Endpoints

#### Student Endpoints
```
POST /api/transcripts/request
GET /api/transcripts/student/{matricule}
GET /api/transcripts/{id}
GET /api/transcripts/{id}/download
```

#### Admin Endpoints
```
GET /api/transcripts
PUT /api/transcripts/{id}/status
GET /api/transcripts/statistics
```

### Database Considerations
1. Indexing:
   - Index on matricule for student transcript lookups
   - Index on status for filtering
   - Index on dateOfRequest for sorting

2. Relations:
   - Link to User table via matricule
   - Link to Faculty and Program tables
   - Link to Payment records

### Security Requirements
1. Authentication:
   - JWT-based authentication
   - Role-based access control (RBAC)

2. Authorization:
   - Students can only access their own transcripts
   - Admins can access all transcripts
   - All actions must be logged for audit

### Integration Points
1. Payment Gateway:
   - MTN Mobile Money
   - Orange Money
   - Payment status webhooks

2. Email Service:
   - For verification mode transcript delivery
   - For notification delivery

3. PDF Generation:
   - Service for generating official transcripts
   - Digital signature/watermark support

### Monitoring
1. Track processing times vs. SLA
2. Monitor payment success rates
3. Log all status changes with timestamp and user
4. Track system performance metrics

## Generated by Copilot